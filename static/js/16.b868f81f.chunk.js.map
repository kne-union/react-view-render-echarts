{"version":3,"sources":["../../node_modules/echarts/core.js","../../node_modules/echarts/lib/chart/helper/labelHelper.js","../../node_modules/echarts/lib/chart/helper/Symbol.js","../../node_modules/echarts/lib/chart/helper/SymbolDraw.js","../../node_modules/echarts/lib/layout/points.js","../../node_modules/echarts/lib/util/vendor.js","../../node_modules/echarts/lib/chart/scatter/ScatterSeries.js","../../node_modules/echarts/lib/chart/helper/LargeSymbolDraw.js","../../node_modules/echarts/lib/chart/scatter/ScatterView.js","../../node_modules/echarts/lib/chart/scatter/install.js"],"names":["getDefaultLabel","data","dataIndex","labelDims","mapDimensionsAll","len","length","rawVal","retrieveRawValue","vals","i","push","join","getDefaultInterpolatedLabel","interpolatedValue","isArray","dimIndex","getDimensionIndex","Symbol","_super","idx","seriesScope","opts","_this","call","this","updateData","__extends","prototype","_createSymbol","symbolType","symbolSize","keepAspect","removeAll","symbolPath","createSymbol","attr","z2","culling","scaleX","scaleY","drift","driftSymbol","_symbolType","add","stopSymbolAnimation","toLastFrame","childAt","stopAnimation","getSymbolType","getSymbolPath","highlight","enterEmphasis","downplay","leaveEmphasis","setZ","zlevel","z","setDraggable","draggable","cursor","silent","getItemVisual","seriesModel","hostModel","getSymbolSize","isInit","disableAnimation","target","graphic","saveOldStyle","_updateCommon","_sizeX","_sizeY","style","opacity","_seriesModel","emphasisItemStyle","blurItemStyle","selectItemStyle","focus","blurScope","labelStatesModels","hoverScale","cursorStyle","hasItemOption","itemModel","getItemModel","emphasisModel","getModel","getItemStyle","get","getLabelStatesModels","getShallow","symbolRotate","Math","PI","symbolOffset","normalizeSymbolOffset","x","y","symbolStyle","visualColor","fill","ZRImage","pathStyle","useStyle","extend","image","width","height","__isEmptyBrush","decal","setColor","symbolInnerColor","strokeNoScale","liftZ","z2Origin","_z2","useNameLabel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","getName","inheritColor","defaultOpacity","emphasisState","ensureState","scaleRatio","max","setSymbolScale","enableHoverEmphasis","scale","fadeOut","cb","opt","getECData","animationOpt","animation","fadeLabel","textContent","getTextContent","removeOpt","removeTextContent","normalizeSymbolSize","dx","dy","parent","symbolNeedsDraw","point","isNaN","isIgnore","clipShape","contain","normalizeUpdateOpt","isObject","makeSeriesScope","SymbolDraw","SymbolCtor","group","_SymbolCtor","SymbolClz","oldData","_data","symbolUpdateOpt","getSymbolPoint","getItemLayout","diff","newIdx","symbolEl","setPosition","setItemGraphicEl","update","oldIdx","getItemGraphicEl","newSymbolType","oldSymbolType","remove","el","execute","_getSymbolPoint","isPersistent","updateLayout","eachItemGraphicEl","markRedraw","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","isGroup","incremental","hoverLayer","start","end","traverse","enableAnimation","pointsLayout","seriesType","forceStoreInTypedArray","plan","createRenderPlanner","reset","getData","coordSys","coordinateSystem","pipelineContext","useTypedArray","large","dims","map","dimensions","dim","mapDimension","slice","dimLen","stackResultDim","getCalculationInfo","isDimensionStacked","store","getStore","dimIdx0","dimIdx1","progress","params","segCount","points","createFloat32Array","tmpIn","tmpOut","offset","dataToPoint","setItemLayout","setLayout","supportFloat32Array","Float32Array","Float32ArrayCtor","Array","arg","ScatterSeriesModel","apply","arguments","type","hasSymbolVisual","getInitialData","option","ecModel","createSeriesData","useEncodeDefaulter","getProgressive","progressive","getProgressiveThreshold","progressiveThreshold","brushSelector","selectors","dependencies","defaultOption","legendHoverLink","largeThreshold","itemStyle","emphasis","clip","select","borderColor","universalTransition","divideShape","SeriesModel","LargeSymbolPathShape","LargeSymbolPath","getDefaultShape","buildPath","path","shape","size","symbolProxy","symbolProxyShape","ctx","getContext","_ctx","softClipShape","afterBrush","fillRect","findDataIndex","w","h","x0","y0","LargeSymbolDraw","_incremental","rectHover","setShape","getLayout","_setCommon","eachChild","child","startIndex","endIndex","byteOffset","buffer","_clearIncremental","count","IncrementalDisplayable","addDisplayable","isIncremental","getVisual","extrudeShadow","globalStyle","ecData_1","seriesIndex","on","e","offsetX","offsetY","clearDisplaybles","ScatterView","render","api","_updateSymbolDraw","_getClipShape","_finished","incrementalPrepareRender","incrementalRender","_symbolDraw","updateTransform","dirty","res","clipArea","getArea","symbolDraw","isLargeDraw","_isLargeDraw","dispose","ChartView","install","registers","use","installGridSimple","registerSeriesModel","registerChartView","registerLayout","layoutPoints"],"mappings":"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","file":"static/js/16.b868f81f.chunk.js","sourcesContent":["/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nexport * from './lib/export/core';","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { retrieveRawValue } from '../../data/helper/dataProvider';\nimport { isArray } from 'zrender/lib/core/util';\n/**\n * @return label string. Not null/undefined\n */\n\nexport function getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n  var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n  if (len === 1) {\n    var rawVal = retrieveRawValue(data, dataIndex, labelDims[0]);\n    return rawVal != null ? rawVal + '' : null;\n  } else if (len) {\n    var vals = [];\n\n    for (var i = 0; i < labelDims.length; i++) {\n      vals.push(retrieveRawValue(data, dataIndex, labelDims[i]));\n    }\n\n    return vals.join(' ');\n  }\n}\nexport function getDefaultInterpolatedLabel(data, interpolatedValue) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n\n  if (!isArray(interpolatedValue)) {\n    return interpolatedValue + '';\n  }\n\n  var vals = [];\n\n  for (var i = 0; i < labelDims.length; i++) {\n    var dimIndex = data.getDimensionIndex(labelDims[i]);\n\n    if (dimIndex >= 0) {\n      vals.push(interpolatedValue[dimIndex]);\n    }\n  }\n\n  return vals.join(' ');\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol';\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport { enterEmphasis, leaveEmphasis, enableHoverEmphasis } from '../../util/states';\nimport { getDefaultLabel } from './labelHelper';\nimport { extend } from 'zrender/lib/core/util';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport ZRImage from 'zrender/lib/graphic/Image';\nimport { saveOldStyle } from '../../animation/basicTrasition';\n\nvar Symbol =\n/** @class */\nfunction (_super) {\n  __extends(Symbol, _super);\n\n  function Symbol(data, idx, seriesScope, opts) {\n    var _this = _super.call(this) || this;\n\n    _this.updateData(data, idx, seriesScope, opts);\n\n    return _this;\n  }\n\n  Symbol.prototype._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n    // Remove paths created before\n    this.removeAll(); // let symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n\n    var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, null, keepAspect);\n    symbolPath.attr({\n      z2: 100,\n      culling: true,\n      scaleX: symbolSize[0] / 2,\n      scaleY: symbolSize[1] / 2\n    }); // Rewrite drift method\n\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n\n\n  Symbol.prototype.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(null, toLastFrame);\n  };\n\n  Symbol.prototype.getSymbolType = function () {\n    return this._symbolType;\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n\n\n  Symbol.prototype.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Highlight symbol\n   */\n\n\n  Symbol.prototype.highlight = function () {\n    enterEmphasis(this.childAt(0));\n  };\n  /**\n   * Downplay symbol\n   */\n\n\n  Symbol.prototype.downplay = function () {\n    leaveEmphasis(this.childAt(0));\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n\n\n  Symbol.prototype.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n\n  Symbol.prototype.setDraggable = function (draggable) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   */\n\n\n  Symbol.prototype.updateData = function (data, idx, seriesScope, opts) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = Symbol.getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n    var disableAnimation = opts && opts.disableAnimation;\n\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      var target = {\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2\n      };\n      disableAnimation ? symbolPath.attr(target) : graphic.updateProps(symbolPath, target, seriesModel, idx);\n      saveOldStyle(symbolPath);\n    }\n\n    this._updateCommon(data, idx, symbolSize, seriesScope, opts);\n\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n\n      if (!disableAnimation) {\n        var target = {\n          scaleX: this._sizeX,\n          scaleY: this._sizeY,\n          style: {\n            // Always fadeIn. Because it has fadeOut animation when symbol is removed..\n            opacity: symbolPath.style.opacity\n          }\n        };\n        symbolPath.scaleX = symbolPath.scaleY = 0;\n        symbolPath.style.opacity = 0;\n        graphic.initProps(symbolPath, target, seriesModel, idx);\n      }\n    }\n\n    if (disableAnimation) {\n      // Must stop remove animation manually if don't call initProps or updateProps.\n      this.childAt(0).stopAnimation('remove');\n    }\n\n    this._seriesModel = seriesModel;\n  };\n\n  Symbol.prototype._updateCommon = function (data, idx, symbolSize, seriesScope, opts) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var emphasisItemStyle;\n    var blurItemStyle;\n    var selectItemStyle;\n    var focus;\n    var blurScope;\n    var labelStatesModels;\n    var hoverScale;\n    var cursorStyle;\n\n    if (seriesScope) {\n      emphasisItemStyle = seriesScope.emphasisItemStyle;\n      blurItemStyle = seriesScope.blurItemStyle;\n      selectItemStyle = seriesScope.selectItemStyle;\n      focus = seriesScope.focus;\n      blurScope = seriesScope.blurScope;\n      labelStatesModels = seriesScope.labelStatesModels;\n      hoverScale = seriesScope.hoverScale;\n      cursorStyle = seriesScope.cursorStyle;\n    }\n\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisItemStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n      selectItemStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n      blurItemStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      labelStatesModels = getLabelStatesModels(itemModel);\n      hoverScale = emphasisModel.getShallow('scale');\n      cursorStyle = itemModel.getShallow('cursor');\n    }\n\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n    var symbolOffset = normalizeSymbolOffset(data.getItemVisual(idx, 'symbolOffset'), symbolSize);\n\n    if (symbolOffset) {\n      symbolPath.x = symbolOffset[0];\n      symbolPath.y = symbolOffset[1];\n    }\n\n    cursorStyle && symbolPath.attr('cursor', cursorStyle);\n    var symbolStyle = data.getItemVisual(idx, 'style');\n    var visualColor = symbolStyle.fill;\n\n    if (symbolPath instanceof ZRImage) {\n      var pathStyle = symbolPath.style;\n      symbolPath.useStyle(extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolStyle));\n    } else {\n      if (symbolPath.__isEmptyBrush) {\n        // fill and stroke will be swapped if it's empty.\n        // So we cloned a new style to avoid it affecting the original style in visual storage.\n        // TODO Better implementation. No empty logic!\n        symbolPath.useStyle(extend({}, symbolStyle));\n      } else {\n        symbolPath.useStyle(symbolStyle);\n      } // Disable decal because symbol scale will been applied on the decal.\n\n\n      symbolPath.style.decal = null;\n      symbolPath.setColor(visualColor, opts && opts.symbolInnerColor);\n      symbolPath.style.strokeNoScale = true;\n    }\n\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = this._z2;\n\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        this._z2 = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      this._z2 = null;\n    }\n\n    var useNameLabel = opts && opts.useNameLabel;\n    setLabelStyle(symbolPath, labelStatesModels, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      inheritColor: visualColor,\n      defaultOpacity: symbolStyle.opacity\n    }); // Do not execute util needed.\n\n    function getLabelDefaultText(idx) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n    }\n\n    this._sizeX = symbolSize[0] / 2;\n    this._sizeY = symbolSize[1] / 2;\n    var emphasisState = symbolPath.ensureState('emphasis');\n    emphasisState.style = emphasisItemStyle;\n    symbolPath.ensureState('select').style = selectItemStyle;\n    symbolPath.ensureState('blur').style = blurItemStyle;\n\n    if (hoverScale) {\n      var scaleRatio = Math.max(1.1, 3 / this._sizeY);\n      emphasisState.scaleX = this._sizeX * scaleRatio;\n      emphasisState.scaleY = this._sizeY * scaleRatio;\n    }\n\n    this.setSymbolScale(1);\n    enableHoverEmphasis(this, focus, blurScope);\n  };\n\n  Symbol.prototype.setSymbolScale = function (scale) {\n    this.scaleX = this.scaleY = scale;\n  };\n\n  Symbol.prototype.fadeOut = function (cb, opt) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = this._seriesModel;\n    var dataIndex = getECData(this).dataIndex;\n    var animationOpt = opt && opt.animation; // Avoid mistaken hover when fading out\n\n    this.silent = symbolPath.silent = true; // Not show text when animating\n\n    if (opt && opt.fadeLabel) {\n      var textContent = symbolPath.getTextContent();\n\n      if (textContent) {\n        graphic.removeElement(textContent, {\n          style: {\n            opacity: 0\n          }\n        }, seriesModel, {\n          dataIndex: dataIndex,\n          removeOpt: animationOpt,\n          cb: function () {\n            symbolPath.removeTextContent();\n          }\n        });\n      }\n    } else {\n      symbolPath.removeTextContent();\n    }\n\n    graphic.removeElement(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scaleX: 0,\n      scaleY: 0\n    }, seriesModel, {\n      dataIndex: dataIndex,\n      cb: cb,\n      removeOpt: animationOpt\n    });\n  };\n\n  Symbol.getSymbolSize = function (data, idx) {\n    return normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n  };\n\n  return Symbol;\n}(graphic.Group);\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nexport default Symbol;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic';\nimport SymbolClz from './Symbol';\nimport { isObject } from 'zrender/lib/core/util';\nimport { getLabelStatesModels } from '../../label/labelStyle';\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  var emphasisModel = seriesModel.getModel('emphasis');\n  return {\n    emphasisItemStyle: emphasisModel.getModel('itemStyle').getItemStyle(),\n    blurItemStyle: seriesModel.getModel(['blur', 'itemStyle']).getItemStyle(),\n    selectItemStyle: seriesModel.getModel(['select', 'itemStyle']).getItemStyle(),\n    focus: emphasisModel.get('focus'),\n    blurScope: emphasisModel.get('blurScope'),\n    hoverScale: emphasisModel.get('scale'),\n    labelStatesModels: getLabelStatesModels(seriesModel),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar SymbolDraw =\n/** @class */\nfunction () {\n  function SymbolDraw(SymbolCtor) {\n    this.group = new graphic.Group();\n    this._SymbolCtor = SymbolCtor || SymbolClz;\n  }\n  /**\n   * Update symbols draw by new data\n   */\n\n\n  SymbolDraw.prototype.updateData = function (data, opt) {\n    opt = normalizeUpdateOpt(opt);\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n    var SymbolCtor = this._SymbolCtor;\n    var disableAnimation = opt.disableAnimation;\n    var seriesScope = makeSeriesScope(data);\n    var symbolUpdateOpt = {\n      disableAnimation: disableAnimation\n    };\n\n    var getSymbolPoint = opt.getSymbolPoint || function (idx) {\n      return data.getItemLayout(idx);\n    }; // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n\n    if (!oldData) {\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      var point = getSymbolPoint(newIdx);\n\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      var point = getSymbolPoint(newIdx);\n\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n        group.remove(symbolEl);\n        return;\n      }\n\n      var newSymbolType = data.getItemVisual(newIdx, 'symbol') || 'circle';\n      var oldSymbolType = symbolEl && symbolEl.getSymbolType && symbolEl.getSymbolType();\n\n      if (!symbolEl // Create a new if symbol type changed.\n      || oldSymbolType && oldSymbolType !== newSymbolType) {\n        group.remove(symbolEl);\n        symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n      } else {\n        symbolEl.updateData(data, newIdx, seriesScope, symbolUpdateOpt);\n        var target = {\n          x: point[0],\n          y: point[1]\n        };\n        disableAnimation ? symbolEl.attr(target) : graphic.updateProps(symbolEl, target, seriesModel);\n      } // Add back\n\n\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && el.fadeOut(function () {\n        group.remove(el);\n      });\n    }).execute();\n    this._getSymbolPoint = getSymbolPoint;\n    this._data = data;\n  };\n\n  ;\n\n  SymbolDraw.prototype.isPersistent = function () {\n    return true;\n  };\n\n  ;\n\n  SymbolDraw.prototype.updateLayout = function () {\n    var _this = this;\n\n    var data = this._data;\n\n    if (data) {\n      // Not use animation\n      data.eachItemGraphicEl(function (el, idx) {\n        var point = _this._getSymbolPoint(idx);\n\n        el.setPosition(point);\n        el.markRedraw();\n      });\n    }\n  };\n\n  ;\n\n  SymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this._seriesScope = makeSeriesScope(data);\n    this._data = null;\n    this.group.removeAll();\n  };\n\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n\n  SymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    opt = normalizeUpdateOpt(opt);\n\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var point = data.getItemLayout(idx);\n\n      if (symbolNeedsDraw(data, point, idx, opt)) {\n        var el = new this._SymbolCtor(data, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        el.setPosition(point);\n        this.group.add(el);\n        data.setItemGraphicEl(idx, el);\n      }\n    }\n  };\n\n  ;\n\n  SymbolDraw.prototype.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data; // Incremental model do not have this._data.\n\n    if (data && enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        });\n      });\n    } else {\n      group.removeAll();\n    }\n  };\n\n  ;\n  return SymbolDraw;\n}();\n\nexport default SymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { map } from 'zrender/lib/core/util';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper';\nimport { createFloat32Array } from '../util/vendor';\nexport default function pointsLayout(seriesType, forceStoreInTypedArray) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var useTypedArray = forceStoreInTypedArray || pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0]\n      /*, dims[1]*/\n      )) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1]\n      /*, dims[0]*/\n      )) {\n        dims[1] = stackResultDim;\n      }\n\n      var store = data.getStore();\n      var dimIdx0 = data.getDimensionIndex(dims[0]);\n      var dimIdx1 = data.getDimensionIndex(dims[1]);\n      return dimLen && {\n        progress: function (params, data) {\n          var segCount = params.end - params.start;\n          var points = useTypedArray && createFloat32Array(segCount * dimLen);\n          var tmpIn = [];\n          var tmpOut = [];\n\n          for (var i = params.start, offset = 0; i < params.end; i++) {\n            var point = void 0;\n\n            if (dimLen === 1) {\n              var x = store.get(dimIdx0, i); // NOTE: Make sure the second parameter is null to use default strategy.\n\n              point = coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              tmpIn[0] = store.get(dimIdx0, i);\n              tmpIn[1] = store.get(dimIdx1, i); // Let coordinate system to handle the NaN data.\n\n              point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n\n            if (useTypedArray) {\n              points[offset++] = point[0];\n              points[offset++] = point[1];\n            } else {\n              data.setItemLayout(i, point.slice());\n            }\n          }\n\n          useTypedArray && data.setLayout('points', points);\n        }\n      };\n    }\n  };\n}\n;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util';\n/* global Float32Array */\n\nvar supportFloat32Array = typeof Float32Array !== 'undefined';\nvar Float32ArrayCtor = !supportFloat32Array ? Array : Float32Array;\nexport function createFloat32Array(arg) {\n  if (isArray(arg)) {\n    // Return self directly if don't support TypedArray.\n    return supportFloat32Array ? new Float32Array(arg) : arg;\n  } // Else is number\n\n\n  return new Float32ArrayCtor(arg);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData';\nimport SeriesModel from '../../model/Series';\n\nvar ScatterSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(ScatterSeriesModel, _super);\n\n  function ScatterSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  ScatterSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  ScatterSeriesModel.prototype.getProgressive = function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      // PENDING\n      return this.option.large ? 5e3 : this.get('progressive');\n    }\n\n    return progressive;\n  };\n\n  ScatterSeriesModel.prototype.getProgressiveThreshold = function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      // PENDING\n      return this.option.large ? 1e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  };\n\n  ScatterSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.point(data.getItemLayout(dataIndex));\n  };\n\n  ScatterSeriesModel.type = 'series.scatter';\n  ScatterSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  ScatterSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    symbolSize: 10,\n    // symbolRotate: null,  // \n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    itemStyle: {\n      opacity: 0.8 // color: \n\n    },\n    emphasis: {\n      scale: true\n    },\n    // If clip the overflow graphics\n    // Works on cartesian / polar series\n    clip: true,\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    },\n    universalTransition: {\n      divideShape: 'clone'\n    } // progressive: null\n\n  };\n  return ScatterSeriesModel;\n}(SeriesModel);\n\nexport default ScatterSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Float32Array */\n// TODO Batch by color\n\nimport * as graphic from '../../util/graphic';\nimport { createSymbol } from '../../util/symbol';\nimport IncrementalDisplayable from 'zrender/lib/graphic/IncrementalDisplayable';\nimport { getECData } from '../../util/innerStore';\nvar BOOST_SIZE_THRESHOLD = 4;\n\nvar LargeSymbolPathShape =\n/** @class */\nfunction () {\n  function LargeSymbolPathShape() {}\n\n  return LargeSymbolPathShape;\n}();\n\nvar LargeSymbolPath =\n/** @class */\nfunction (_super) {\n  __extends(LargeSymbolPath, _super);\n\n  function LargeSymbolPath(opts) {\n    return _super.call(this, opts) || this;\n  }\n\n  LargeSymbolPath.prototype.getDefaultShape = function () {\n    return new LargeSymbolPathShape();\n  };\n\n  LargeSymbolPath.prototype.buildPath = function (path, shape) {\n    var points = shape.points;\n    var size = shape.size;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n    var ctx = path.getContext ? path.getContext() : path;\n    var canBoost = ctx && size[0] < BOOST_SIZE_THRESHOLD; // Do draw in afterBrush.\n\n    if (canBoost) {\n      this._ctx = ctx;\n      return;\n    }\n\n    this._ctx = null;\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      }\n\n      symbolProxyShape.x = x - size[0] / 2;\n      symbolProxyShape.y = y - size[1] / 2;\n      symbolProxyShape.width = size[0];\n      symbolProxyShape.height = size[1];\n      symbolProxy.buildPath(path, symbolProxyShape, true);\n    }\n  };\n\n  LargeSymbolPath.prototype.afterBrush = function () {\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var ctx = this._ctx;\n\n    if (!ctx) {\n      return;\n    } // PENDING If style or other canvas status changed?\n\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      } // fillRect is faster than building a rect path and draw.\n      // And it support light globalCompositeOperation.\n\n\n      ctx.fillRect(x - size[0] / 2, y - size[1] / 2, size[0], size[1]);\n    }\n  };\n\n  LargeSymbolPath.prototype.findDataIndex = function (x, y) {\n    // TODO ???\n    // Consider transform\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var w = Math.max(size[0], 4);\n    var h = Math.max(size[1], 4); // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var idx = points.length / 2 - 1; idx >= 0; idx--) {\n      var i = idx * 2;\n      var x0 = points[i] - w / 2;\n      var y0 = points[i + 1] - h / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + w && y <= y0 + h) {\n        return idx;\n      }\n    }\n\n    return -1;\n  };\n\n  return LargeSymbolPath;\n}(graphic.Path);\n\nvar LargeSymbolDraw =\n/** @class */\nfunction () {\n  function LargeSymbolDraw() {\n    this.group = new graphic.Group();\n  }\n\n  LargeSymbolDraw.prototype.isPersistent = function () {\n    return !this._incremental;\n  };\n\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n\n  LargeSymbolDraw.prototype.updateData = function (data, opt) {\n    this.group.removeAll();\n    var symbolEl = new LargeSymbolPath({\n      rectHover: true,\n      cursor: 'default'\n    });\n    symbolEl.setShape({\n      points: data.getLayout('points')\n    });\n\n    this._setCommon(symbolEl, data, false, opt);\n\n    this.group.add(symbolEl);\n    this._incremental = null;\n  };\n\n  LargeSymbolDraw.prototype.updateLayout = function (data) {\n    if (this._incremental) {\n      return;\n    }\n\n    var points = data.getLayout('points');\n    this.group.eachChild(function (child) {\n      if (child.startIndex != null) {\n        var len = (child.endIndex - child.startIndex) * 2;\n        var byteOffset = child.startIndex * 4 * 2;\n        points = new Float32Array(points.buffer, byteOffset, len);\n      }\n\n      child.setShape('points', points);\n    });\n  };\n\n  LargeSymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this.group.removeAll();\n\n    this._clearIncremental(); // Only use incremental displayables when data amount is larger than 2 million.\n    // PENDING Incremental data?\n\n\n    if (data.count() > 2e6) {\n      if (!this._incremental) {\n        this._incremental = new IncrementalDisplayable({\n          silent: true\n        });\n      }\n\n      this.group.add(this._incremental);\n    } else {\n      this._incremental = null;\n    }\n  };\n\n  LargeSymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    var symbolEl;\n\n    if (this._incremental) {\n      symbolEl = new LargeSymbolPath();\n\n      this._incremental.addDisplayable(symbolEl, true);\n    } else {\n      symbolEl = new LargeSymbolPath({\n        rectHover: true,\n        cursor: 'default',\n        startIndex: taskParams.start,\n        endIndex: taskParams.end\n      });\n      symbolEl.incremental = true;\n      this.group.add(symbolEl);\n    }\n\n    symbolEl.setShape({\n      points: data.getLayout('points')\n    });\n\n    this._setCommon(symbolEl, data, !!this._incremental, opt);\n  };\n\n  LargeSymbolDraw.prototype._setCommon = function (symbolEl, data, isIncremental, opt) {\n    var hostModel = data.hostModel;\n    opt = opt || {};\n    var size = data.getVisual('symbolSize');\n    symbolEl.setShape('size', size instanceof Array ? size : [size, size]);\n    symbolEl.softClipShape = opt.clipShape || null; // Create symbolProxy to build path for each data\n\n    symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n    symbolEl.setColor = symbolEl.symbolProxy.setColor;\n    var extrudeShadow = symbolEl.shape.size[0] < BOOST_SIZE_THRESHOLD;\n    symbolEl.useStyle( // Draw shadow when doing fillRect is extremely slow.\n    hostModel.getModel('itemStyle').getItemStyle(extrudeShadow ? ['color', 'shadowBlur', 'shadowColor'] : ['color']));\n    var globalStyle = data.getVisual('style');\n    var visualColor = globalStyle && globalStyle.fill;\n\n    if (visualColor) {\n      symbolEl.setColor(visualColor);\n    }\n\n    if (!isIncremental) {\n      var ecData_1 = getECData(symbolEl); // Enable tooltip\n      // PENDING May have performance issue when path is extremely large\n\n      ecData_1.seriesIndex = hostModel.seriesIndex;\n      symbolEl.on('mousemove', function (e) {\n        ecData_1.dataIndex = null;\n        var dataIndex = symbolEl.findDataIndex(e.offsetX, e.offsetY);\n\n        if (dataIndex >= 0) {\n          // Provide dataIndex for tooltip\n          ecData_1.dataIndex = dataIndex + (symbolEl.startIndex || 0);\n        }\n      });\n    }\n  };\n\n  LargeSymbolDraw.prototype.remove = function () {\n    this._clearIncremental();\n\n    this._incremental = null;\n    this.group.removeAll();\n  };\n\n  LargeSymbolDraw.prototype._clearIncremental = function () {\n    var incremental = this._incremental;\n\n    if (incremental) {\n      incremental.clearDisplaybles();\n    }\n  };\n\n  return LargeSymbolDraw;\n}();\n\nexport default LargeSymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw';\nimport LargeSymbolDraw from '../helper/LargeSymbolDraw';\nimport pointsLayout from '../../layout/points';\nimport ChartView from '../../view/Chart';\n\nvar ScatterView =\n/** @class */\nfunction (_super) {\n  __extends(ScatterView, _super);\n\n  function ScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterView.type;\n    return _this;\n  }\n\n  ScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  };\n\n  ScatterView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  };\n\n  ScatterView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n\n  ScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4 || !this._symbolDraw.isPersistent()) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout('').reset(seriesModel, ecModel, api);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  };\n\n  ScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n\n  ScatterView.prototype._updateSymbolDraw = function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  };\n\n  ScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  };\n\n  ScatterView.prototype.dispose = function () {};\n\n  ScatterView.type = 'scatter';\n  return ScatterView;\n}(ChartView);\n\nexport default ScatterView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport ScatterSeriesModel from './ScatterSeries';\nimport ScatterView from './ScatterView';\nimport { install as installGridSimple } from '../../component/grid/installSimple';\nimport layoutPoints from '../../layout/points';\nexport function install(registers) {\n  // In case developer forget to include grid component\n  use(installGridSimple);\n  registers.registerSeriesModel(ScatterSeriesModel);\n  registers.registerChartView(ScatterView);\n  registers.registerLayout(layoutPoints('scatter'));\n}"],"sourceRoot":""}